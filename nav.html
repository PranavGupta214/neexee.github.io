<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="nav.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
  </head>
  <body>
    <section>
      <h1>Scroll down</h1>
    </section>

    <section class="sticky">
        <blockquote>"Its A platform for writing emails in a collaborative way, that includes mentions, tasks, calendar and many other tools in a revolutionary, real-time, productive, unbelievably easy, unseen way."<span></span></blockquote>
        <img id="office" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/2621168/office1.png">

        <div id="box"></div>
    </section>

    <section>
  <h1>Scroll up</h1>
</section>

    </div>

    <script>
    var tl = new TimelineMax({onUpdate:updatePercentage});
    var tl2 = new TimelineMax();
    const controller = new ScrollMagic.Controller();

    tl.from('blockquote', .5, {x:200, opacity: 0});
    tl.from('span', 1, { width: 0}, "=-.5");
    tl.from('#office', 1, {x:-200, opacity: 0,ease: Power4.easeInOut}, "=-1");
    tl.from('#building', 1, {x:200, opacity: 0, ease: Power4.easeInOut}, "=-.7");

    tl2.from("#box", 1, {opacity: 0, scale: 0});
    tl2.to("#box", .5, {left: "36%", scale: 1.3,borderColor: 'rgb(96,186,76)', borderWidth: 5, boxShadow: '1px 1px 0px 0px rgba(0,0,0,0.09)'})

    const scene = new ScrollMagic.Scene({
      triggerElement: ".sticky",
                triggerHook: "onLeave",
                duration: "100%"
    })
      .setPin(".sticky")
      .setTween(tl)
        .addTo(controller);

    const scene2 = new ScrollMagic.Scene({
      triggerElement: "blockquote"
    })
      .setTween(tl2)
        .addTo(controller);


    function updatePercentage() {
      //percent.innerHTML = (tl.progress() *100 ).toFixed();
      tl.progress();
      console.log(tl.progress());
    }
    </script>
    <script src="common.js"></script>
  </body>

</html>
